import{a as n}from"./axios-G2rPRu76.js";import{_ as p,c as d,b as t,F as a,v as m,t as s,z as u,o as l}from"./index-7qZofWaS.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"ryanchiang13",BASE_URL:"/aruadesign/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_,VITE_APP_PATH:h}=b,f={data(){return{orderId:"",order:{}}},methods:{getOrder(){n.get(`${_}/v2/api/${h}/order/${this.orderId}`).then(r=>{this.order=r.data.order})},payOrder(){n.post(`${_}/v2/api/${h}/pay/${this.orderId}`).then(()=>{this.getOrder(),console.log("ok"),this.$router.push("/thankspage")}).catch(r=>{alert(r.response.data.message)})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},y=t("div",{class:"pb-160 pb-md-120"},null,-1),g={class:"container"},x=t("div",{class:"d-flex justify-content-between align-items-end mb-8 mt-40"},[t("h2",{class:"text-primary"},"訂單確認")],-1),v={class:"table align-middle"},w=t("thead",null,[t("tr",null,[t("th",{class:"text-primary"},"品名"),t("th",{class:"text-primary"},"數量"),t("th",{class:"text-primary"},"小計")])],-1),I={class:"py-40 text-primary"},E={class:"d-flex align-items-center"},O=["src"],k={class:"position-relative"},P={class:"fw-bold"},V={width:"80"},$={class:"text-end"},T={class:"row justify-content-end align-items-center mb-48 mb-md-80"},A={class:"col-6 col-lg-3 col-md-6"},R={class:"d-flex justify-content-between align-items-center py-16 py-md-24"},B=t("p",{class:"me-16 text-primary"},"總計",-1),D={class:"fs-20 fw-bold text-end"},L={class:"mb-80"},S=t("h2",{class:"text-primary text-center mb-40"},"訂購資訊確認",-1),U={class:"row text-primary"},j={class:"col-12 col-md-6 offset-md-3 mb-40"},C={class:"w-100"},F={class:"border-top border-bottom",height:"80px"},H=t("td",{class:"fw-bold"},"姓名",-1),M={class:"border-top border-bottom",height:"80px"},q=t("td",{class:"fw-bold"},"信箱",-1),z={class:"border-top border-bottom",height:"80px"},N=t("td",{class:"fw-bold"},"電話",-1),G={class:"border-top border-bottom",height:"80px"},J=t("td",{class:"fw-bold"},"地址",-1),K={class:"col-12 col-md-4 offset-md-4"};function Q(r,c,W,X,o,i){return l(),d(a,null,[y,t("div",g,[x,t("table",v,[w,t("tbody",null,[(l(!0),d(a,null,m(o.order.products,e=>(l(),d("tr",{key:e.id},[t("td",I,[t("div",E,[t("img",{src:e.product.imageUrl,alt:"圖片",class:"me-16 d-none d-md-block",style:{width:"10%"}},null,8,O),t("div",k,[t("p",P,s(e.product.title),1),t("p",null,"$"+s(e.product.price),1)])])]),t("td",V,s(e.qty),1),t("td",null,[t("p",$,"$"+s(e.total),1)])]))),128))])]),t("div",T,[t("div",A,[t("div",R,[B,t("p",D,"$"+s(o.order.total),1)])])]),t("div",L,[S,t("div",U,[t("div",j,[t("table",C,[t("tr",F,[H,t("td",null,s(o.order.user.name),1)]),t("tr",M,[q,t("td",null,s(o.order.user.email),1)]),t("tr",z,[N,t("td",null,s(o.order.user.tel),1)]),t("tr",G,[J,t("td",null,s(o.order.user.address),1)])])]),t("div",K,[t("button",{type:"button",onClick:c[0]||(c[0]=u((...e)=>i.payOrder&&i.payOrder(...e),["prevent"])),class:"w-100 btn btn-primary rounded-0"},"確認結帳")])])])])],64)}const tt=p(f,[["render",Q]]);export{tt as default};
